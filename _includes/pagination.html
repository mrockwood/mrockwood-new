{% if page.collection %}

	{% capture the_collection %}{{page.collection}}{% endcapture %}

	{% assign document = site[the_collection] | sort: "name" | reversed %}

	{% for links in document %}
		{% if links.date == page.date %}

			{% unless forloop.first %}
				{% assign prevurl = prev.url %}
				{% assign prevtitle = prev.title %}
			{% endunless %}

			{% unless forloop.last %}
				{% assign next = document[forloop.index] %}

				{% assign nexturl = next.url %}

				{% assign nexttitle = next.title %}
			{% endunless %}
		{% endif %}

		{% assign prev = links %}
	{% endfor %}

{% endif %}

{% if prevurl or nexturl %}
	<!-- Pagination -->
	<div class="c-pagination">
		<div class="l-container  l-container--large">
			<nav class="l-grid  l-grid--middle">
				<a class="c-pagination__link  c-pagination__link--all  l-grid__item  l-width--1/5@medium" href="{{ site.baseurl }}/work/">
					<svg class="c-icon">
						<use xlink:href="{{ '/assets/icons/sprite.svg#grid' | prepend: site.baseurl }}"></use>
					</svg>
					<span class="u-small">All Projects</span>
				</a>
				{% if prevurl %}
				<a class="c-pagination__link  c-pagination__link--prev  l-grid__item  l-width--2/5@medium  l-order--first@medium" href="{{prevurl}}">
					<svg class="c-icon">
						<use xlink:href="{{ '/assets/icons/sprite.svg#chevron-left' | prepend: site.baseurl }}"></use>
					</svg>
					<span class="u-small">Prev</span>
				</a>
				{% endif %}
				{% if nexturl %}
				<a class="c-pagination__link  c-pagination__link--next  l-grid__item  l-width--2/5@medium" href="{{nexturl}}">
					<svg class="c-icon">
						<use xlink:href="{{ '/assets/icons/sprite.svg#chevron-right' | prepend: site.baseurl }}"></use>
					</svg>
					<span class="u-small">Next</span>
				</a>
				{% endif %}
			</nav>
		</div>
	</div>

	<script>
	document.body.onkeyup = function(e){
		if (e.keyCode == '37') { window.location = '{{prevurl}}'; }
		if (e.keyCode == '39') { window.location = '{{nexturl}}'; }
	};
	</script>
{% endif %}
